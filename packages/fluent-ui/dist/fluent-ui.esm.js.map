{"version":3,"file":"fluent-ui.esm.js","sources":["../src/AddButton/AddButton.tsx","../src/IconButton/IconButton.tsx","../src/ArrayFieldTemplate/ArrayFieldTemplate.tsx","../src/ErrorList/ErrorList.tsx","../src/DescriptionField/DescriptionField.tsx","../src/TitleField/TitleField.tsx","../src/Fields/Fields.ts","../src/FieldTemplate/FieldTemplate.tsx","../src/ObjectFieldTemplate/ObjectFieldTemplate.tsx","../src/SubmitButton/SubmitButton.tsx","../src/TextWidget/TextWidget.tsx","../src/AltDateWidget/AltDateWidget.tsx","../src/AltDateTimeWidget/AltDateTimeWidget.tsx","../src/CheckboxWidget/CheckboxWidget.tsx","../src/CheckboxesWidget/CheckboxesWidget.tsx","../src/ColorWidget/ColorWidget.tsx","../src/DateWidget/DateWidget.tsx","../src/DateTimeWidget/DateTimeWidget.tsx","../src/EmailWidget/EmailWidget.tsx","../src/PasswordWidget/PasswordWidget.tsx","../src/RadioWidget/RadioWidget.tsx","../src/RangeWidget/RangeWidget.tsx","../src/SelectWidget/SelectWidget.tsx","../src/TextareaWidget/TextareaWidget.tsx","../src/UpDownWidget/UpDownWidget.tsx","../src/URLWidget/URLWidget.tsx","../src/Widgets/Widgets.ts","../src/Theme/Theme.ts","../src/FuiForm/FuiForm.tsx","../src/index.ts"],"sourcesContent":["import React from \"react\";\n\nimport { AddButtonProps } from \"@rjsf/core\";\n\nimport { IIconProps, CommandBarButton } from \"@fluentui/react\";\n\nconst addIcon: IIconProps = { iconName: \"Add\" };\n\nconst AddButton = (props: AddButtonProps) => (\n  <CommandBarButton\n    style={{ height: \"32px\" }}\n    iconProps={addIcon}\n    text=\"Add item\"\n    className={props.className}\n    onClick={e => props.onClick(e as any)}\n    disabled={props.disabled}\n    />\n\n);\n\nexport default AddButton;\n","import React from \"react\";\n\nimport { IconButton, IIconProps } from \"@fluentui/react\";\nimport { AddButtonProps as FuiIconButtonProps } from \"@rjsf/core\";\n\nconst mappings: {[x: string]: string} = {\n  remove: \"Delete\",\n  \"arrow-up\": \"Up\",\n  \"arrow-down\": \"Down\",\n};\n\ntype IconButtonProps = FuiIconButtonProps & {\n  icon: string;\n};\n\nexport default (props: IconButtonProps) => (\n <IconButton\n    disabled={props.disabled}\n    onClick={e => props.onClick(e as any)}\n    iconProps={{\n      iconName: mappings[props.icon]\n    }}\n    color=\"secondary\" />\n);\n","import React from \"react\";\n\nimport { utils } from \"@rjsf/core\";\n\nimport { ArrayFieldTemplateProps, IdSchema } from \"@rjsf/core\";\n\nimport AddButton from \"../AddButton/AddButton\";\nimport IconButton from \"../IconButton/IconButton\";\n\nconst rightJustify = {\n  float: \"right\"\n} as React.CSSProperties;\n\nconst { isMultiSelect, getDefaultRegistry } = utils;\n\nconst ArrayFieldTemplate = (props: ArrayFieldTemplateProps) => {\n  const { schema, registry = getDefaultRegistry() } = props;\n\n  // TODO: update types so we don't have to cast registry as any\n  if (isMultiSelect(schema, (registry as any).rootSchema)) {\n    return <DefaultFixedArrayFieldTemplate {...props} />;\n  } else {\n    return <DefaultNormalArrayFieldTemplate {...props} />;\n  }\n};\n\ntype ArrayFieldTitleProps = {\n  TitleField: any;\n  idSchema: IdSchema;\n  title: string;\n  required: boolean;\n};\n\nconst ArrayFieldTitle = ({\n  TitleField,\n  idSchema,\n  title,\n  required,\n}: ArrayFieldTitleProps) => {\n  if (!title) {\n    return null;\n  }\n\n  const id = `${idSchema.$id}__title`;\n  return <TitleField id={id} title={title} required={required} />;\n};\n\ntype ArrayFieldDescriptionProps = {\n  DescriptionField: any;\n  idSchema: IdSchema;\n  description: string;\n};\n\nconst ArrayFieldDescription = ({\n  DescriptionField,\n  idSchema,\n  description,\n}: ArrayFieldDescriptionProps) => {\n  if (!description) {\n    return null;\n  }\n\n  const id = `${idSchema.$id}__description`;\n  return <DescriptionField id={id} description={description} />;\n};\n\n// Used in the two templates\nconst DefaultArrayItem = (props: any) => {\n  return (\n    <div key={props.key} className=\"ms-Grid\" dir=\"ltr\">\n      <div className=\"ms-Grid-row\">\n        <div className=\"ms-Grid-col ms-sm6 ms-md8 ms-lg9\">\n          <div className=\"ms-Grid-row\">\n          {props.children}\n          </div>\n        </div>\n        <div className=\"ms-Grid-col ms-sm6 ms-md4 ms-lg3\" style={{textAlign: \"right\"}}>\n          <IconButton\n            icon=\"arrow-up\"\n            className=\"array-item-move-up\"\n            disabled={props.disabled || props.readonly || !props.hasMoveUp}\n            onClick={props.onReorderClick(props.index, props.index - 1)}\n          />\n          <IconButton\n            icon=\"arrow-down\"\n            className=\"array-item-move-down\"\n            disabled={props.disabled || props.readonly || !props.hasMoveDown}\n            onClick={props.onReorderClick(props.index, props.index + 1)}\n          />\n          <IconButton\n            icon=\"remove\"\n            className=\"array-item-remove\"\n            disabled={props.disabled || props.readonly}\n            onClick={props.onDropIndexClick(props.index)}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst DefaultFixedArrayFieldTemplate = (props: ArrayFieldTemplateProps) => {\n  return (\n    <fieldset className={props.className}>\n      <ArrayFieldTitle\n        key={`array-field-title-${props.idSchema.$id}`}\n        TitleField={props.TitleField}\n        idSchema={props.idSchema}\n        title={props.uiSchema[\"ui:title\"] || props.title}\n        required={props.required}\n      />\n\n      {(props.uiSchema[\"ui:description\"] || props.schema.description) && (\n        <div\n          className=\"field-description\"\n          key={`field-description-${props.idSchema.$id}`}>\n          {props.uiSchema[\"ui:description\"] || props.schema.description}\n        </div>\n      )}\n\n      <div\n        className=\"row array-item-list\"\n        key={`array-item-list-${props.idSchema.$id}`}>\n        {props.items && props.items.map(DefaultArrayItem)}\n      </div>\n\n      {props.canAdd && (\n        <span style={rightJustify}>\n          <AddButton\n            className=\"array-item-add\"\n            onClick={props.onAddClick}\n            disabled={props.disabled || props.readonly}\n          />\n        </span>\n      )}\n    </fieldset>\n  );\n};\n\nconst DefaultNormalArrayFieldTemplate = (props: ArrayFieldTemplateProps) => {\n  return (\n    <>\n      <ArrayFieldTitle\n        key={`array-field-title-${props.idSchema.$id}`}\n        TitleField={props.TitleField}\n        idSchema={props.idSchema}\n        title={props.uiSchema[\"ui:title\"] || props.title}\n        required={props.required}\n      />\n\n      {(props.uiSchema[\"ui:description\"] || props.schema.description) && (\n        <ArrayFieldDescription\n          key={`array-field-description-${props.idSchema.$id}`}\n          DescriptionField={props.DescriptionField}\n          idSchema={props.idSchema}\n          description={\n            props.uiSchema[\"ui:description\"] || props.schema.description\n          }\n        />\n      )}\n\n      {props.items && props.items.map(p => DefaultArrayItem(p))}\n\n      {props.canAdd && (\n        <span style={rightJustify}>\n          <AddButton\n            className=\"array-item-add\"\n            onClick={props.onAddClick}\n            disabled={props.disabled || props.readonly}\n          />\n        </span>\n      )}\n    </>\n  );\n};\n\nexport default ArrayFieldTemplate;\n","import React from \"react\";\nimport { MessageBar, MessageBarType } from \"@fluentui/react\";\nimport { Label } from \"@fluentui/react\";\nimport { ErrorListProps } from \"@rjsf/core\";\nconst styles = {\n  root: [\n    {\n      fontSize: 24,\n    },\n  ],\n};\n\nconst ErrorList = ({ errors }: ErrorListProps) => (\n  <>\n    {errors.map((error, i) => {\n      return (\n        <MessageBar\n          key={i}\n          messageBarType={MessageBarType.error}\n          isMultiline={false}\n          dismissButtonAriaLabel=\"Close\">\n          {error.stack}\n        </MessageBar>\n      );\n    })}\n  </>\n);\n\nexport default ErrorList;\n","import React from \"react\";\n\nimport { FieldProps } from \"@rjsf/core\";\n\nimport { Text } from \"@fluentui/react\";\n\nconst DescriptionField = ({ description }: FieldProps) => {\n  if (description) {\n    return <Text>{description}</Text>;\n  }\n\n  return null;\n};\n\nexport default DescriptionField;\n","import React from \"react\";\nimport { FieldProps } from \"@rjsf/core\";\nimport { Label } from \"@fluentui/react\";\n\nconst styles = {\n  root: [\n    {\n      fontSize: 24,\n      marginBottom: 20,\n      paddingBottom: 0\n    },\n  ],\n};\n\nconst TitleField = ({ title }: FieldProps) => (\n  <>\n    <Label styles={styles}>{title}</Label>\n  </>\n);\n\nexport default TitleField;\n","import DescriptionField from '../DescriptionField/DescriptionField';\nimport TitleField from '../TitleField/TitleField';\n\nexport default {\n  DescriptionField,\n  TitleField,\n};\n","import React from \"react\";\nimport { FieldTemplateProps } from \"@rjsf/core\";\nimport { Text, Label } from \"@fluentui/react\";\nimport { List } from \"@fluentui/react\";\n\nconst styles = {\n  root: [\n    {\n      fontSize: 24,\n    },\n  ],\n};\n\nconst FieldTemplate = ({\n  id,\n  children,\n  displayLabel,\n  rawErrors = [],\n  rawHelp,\n  rawDescription,\n  classNames,\n  label,\n  required\n}: FieldTemplateProps) => {\n  // TODO: do this better by not returning the form-group class from master.\n  classNames = \"ms-Grid-col ms-sm12 \" + classNames.replace(\"form-group\", \"\");\n  return (\n    <div className={classNames} style={{marginBottom: 15}}>\n      {children}\n      {/* {displayLabel && <Label>\n        {label}\n        {required && <span style={{color: \"rgb(164, 38, 44)\", fontSize: \"12px\", fontWeight: \"normal\"}}>*</span>}\n      </Label>} */}\n      {rawDescription && <Text>{rawDescription}</Text>}\n      {rawErrors.length > 0 && <List items={rawErrors}>})}</List>}\n      {rawHelp && <Text id={id}>{rawHelp}</Text>}\n    </div>\n  );\n};\n\nexport default FieldTemplate;\n","import React from \"react\";\nimport { ObjectFieldTemplateProps } from \"@rjsf/core\";\n\nconst ObjectFieldTemplate = ({\n  DescriptionField,\n  description,\n  TitleField,\n  title,\n  properties,\n  required,\n  uiSchema,\n  idSchema,\n}: ObjectFieldTemplateProps) => {\n  return (\n    <>\n      {(uiSchema[\"ui:title\"] || title) && (\n        <TitleField\n          id={`${idSchema.$id}-title`}\n          title={title}\n          required={required}\n        />\n      )}\n      {description && (\n        <DescriptionField\n          id={`${idSchema.$id}-description`}\n          description={description}\n        />\n      )}\n\n      <div className=\"ms-Grid\" dir=\"ltr\">\n        <div className=\"ms-Grid-row\">\n          {properties.map((element: any) => element.content)}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ObjectFieldTemplate;\n","import React from \"react\";\nimport { PrimaryButton } from \"@fluentui/react\";\nexport default () => (\n  <div>\n    <br />\n    <div className=\"ms-Grid-col ms-sm12\">\n      <PrimaryButton text=\"Submit\" type=\"submit\" />\n    </div>\n  </div>\n);\n","import React from \"react\";\nimport { TextField } from \"@fluentui/react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport _pick from \"lodash/pick\";\n\n// Keys of ITextFieldProps from @fluentui/react\nconst allowedProps = [\n  \"multiline\",\n  \"resizable\",\n  \"autoAdjustHeight\",\n  \"underlined\",\n  \"borderless\",\n  \"label\",\n  \"onRenderLabel\",\n  \"description\",\n  \"onRenderDescription\",\n  \"prefix\",\n  \"suffix\",\n  \"onRenderPrefix\",\n  \"onRenderSuffix\",\n  \"iconProps\",\n  \"defaultValue\",\n  \"value\",\n  \"disabled\",\n  \"readOnly\",\n  \"errorMessage\",\n  \"onChange\",\n  \"onNotifyValidationResult\",\n  \"onGetErrorMessage\",\n  \"deferredValidationTime\",\n  \"className\",\n  \"inputClassName\",\n  \"ariaLabel\",\n  \"validateOnFocusIn\",\n  \"validateOnFocusOut\",\n  \"validateOnLoad\",\n  \"theme\",\n  \"styles\",\n  \"autoComplete\",\n  \"mask\",\n  \"maskChar\",\n  \"maskFormat\",\n  \"type\",\n];\n\nconst TextWidget = ({\n  id,\n  required,\n  readonly,\n  disabled,\n  label,\n  value,\n  onChange,\n  onBlur,\n  onFocus,\n  autofocus,\n  options,\n  schema,\n  rawErrors,\n}: WidgetProps) => {\n  const _onChange = ({\n    target: { value },\n  }: React.ChangeEvent<HTMLInputElement>) =>\n    onChange(value === \"\" ? options.emptyValue : value);\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n    onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n  return (\n    <TextField\n      id={id}\n      label={label || schema.title}\n      autoFocus={autofocus}\n      required={required}\n      disabled={disabled}\n      readOnly={readonly}\n      name={name}\n      type={schema.type as string}\n      value={value ? value : \"\"}\n      onChange={_onChange as any}\n      onBlur={_onBlur}\n      onFocus={_onFocus}\n      errorMessage={(rawErrors || []).join(\"\\n\")}\n      {...uiProps}\n    />\n  );\n};\n\nexport default TextWidget;\n","import React from \"react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport TextWidget from '../TextWidget';\n\nexport default (props: WidgetProps) => <TextWidget {...props} />;","import React from \"react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport TextWidget from '../TextWidget';\n\nexport default (props: WidgetProps) => <TextWidget {...props} />;","import React from \"react\";\nimport { Checkbox, Label } from \"@fluentui/react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport _pick from \"lodash/pick\";\n\n// Keys of ICheckboxProps from @fluentui/react\nexport const allowedProps = [\n  \"ariaDescribedBy\",\n  \"ariaLabel\",\n  \"ariaPositionInSet\",\n  \"ariaSetSize\",\n  \"boxSide\",\n  \"checked\",\n  \"checkmarkIconProps\",\n  \"className\",\n  \"componentRef\",\n  \"defaultChecked\",\n  \"defaultIndeterminate\",\n  \"disabled\",\n  \"indeterminate\",\n  \"inputProps\",\n  \"keytipProps\",\n  \"label\",\n  \"onChange\",\n  \"onRenderLabel\",\n  \"styles\",\n  \"theme\"\n];\n\nconst CheckboxWidget = (props: WidgetProps) => {\n  const {\n    id,\n    value,\n    // required,\n    disabled,\n    readonly,\n    label,\n    schema,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    options,\n  } = props;\n\n  const _onChange = React.useCallback(({}, checked?: boolean): void => {\n    onChange(checked);\n  }, []);\n\n  const _onBlur = ({\n    target: { value },\n  }: React.FocusEvent<HTMLButtonElement>) => onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLButtonElement>) => onFocus(id, value);\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n\n  return (\n    <>\n        <Checkbox\n          id={id}\n          label={label || schema.title}\n          disabled={disabled || readonly}\n          autoFocus={autofocus}\n          onBlur={_onBlur}\n          onFocus={_onFocus}\n          checked={typeof value === \"undefined\" ? false : value}\n          onChange={_onChange}\n          {...uiProps}\n        />\n    </>\n  );\n};\n\nexport default CheckboxWidget;\n","import React from \"react\";\nimport { Checkbox, Label } from \"@fluentui/react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport { allowedProps } from \"../CheckboxWidget\";\nimport _pick from \"lodash/pick\";\n\nconst styles_red = {\n      // TODO: get this color from theme.\n      color: \"rgb(164, 38, 44)\",\n      fontSize: 12,\n      fontWeight: \"normal\" as any,\n      fontFamily: `\"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\", -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;`\n    };\n\nconst selectValue = (value: any, selected: any, all: any) => {\n  const at = all.indexOf(value);\n  const updated = selected.slice(0, at).concat(value, selected.slice(at));\n\n  // As inserting values at predefined index positions doesn't work with empty\n  // arrays, we need to reorder the updated selection to match the initial order\n  return updated.sort((a: any, b: any) => all.indexOf(a) > all.indexOf(b));\n};\n\nconst deselectValue = (value: any, selected: any) => {\n  return selected.filter((v: any) => v !== value);\n};\n\nconst CheckboxesWidget = ({\n  schema,\n  label,\n  id,\n  disabled,\n  options,\n  value,\n  autofocus,\n  readonly,\n  required,\n  onChange,\n  onBlur,\n  onFocus,\n  rawErrors = [],\n}: WidgetProps) => {\n  const { enumOptions, enumDisabled } = options;\n\n  const _onChange = (option: any) => (\n    _ev?: React.FormEvent<HTMLElement>,\n    checked?: boolean\n  ) => {\n    const all = (enumOptions as any).map(({ value }: any) => value);\n\n    if (checked) {\n      onChange(selectValue(option.value, value, all));\n    } else {\n      onChange(deselectValue(option.value, value));\n    }\n  };\n\n  const _onBlur = ({\n    target: { value },\n  }: React.FocusEvent<HTMLButtonElement>) => onBlur(id, value);\n\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLButtonElement>) => onFocus(id, value);\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n\n  return (\n    <>\n      <Label>\n        {label || schema.title}\n        {required && <span style={styles_red}>&nbsp;*</span>}\n      </Label>\n      {(enumOptions as any).map((option: any, index: number) => {\n        const checked = value.indexOf(option.value) !== -1;\n        const itemDisabled =\n          enumDisabled && (enumDisabled as any).indexOf(option.value) != -1;\n        return (\n          <Checkbox\n            id={`${id}_${index}`}\n            checked={checked}\n            label={option.label}\n            disabled={disabled || itemDisabled || readonly}\n            autoFocus={autofocus && index === 0}\n            onChange={_onChange(option)}\n            onBlur={_onBlur}\n            onFocus={_onFocus}\n            key={index}\n            {...uiProps}\n          />\n        );\n      })}\n      <span style={styles_red}>{(rawErrors || []).join(\"\\n\")}</span>\n    </>\n  );\n};\n\nexport default CheckboxesWidget;\n","import React from \"react\";\nimport {\n  ColorPicker,\n  IColorPickerProps,\n  IColor,\n  IColorPickerStyles,\n  getColorFromString,\n  Label,\n} from \"@fluentui/react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport _pick from \"lodash/pick\";\nimport { useConstCallback } from \"@uifabric/react-hooks\";\n\nconst styles_red = {\n  // TODO: get this color from theme.\n  color: \"rgb(164, 38, 44)\",\n  fontSize: 12,\n  fontWeight: \"normal\" as any,\n  fontFamily: `\"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\", -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;`,\n};\n\n// Keys of IColorPickerProps from @fluentui/react\nconst allowedProps = [\n  \"componentRef\",\n  \"color\",\n  \"strings\",\n  \"onChange\",\n  \"alphaType\",\n  \"alphaSliderHidden\",\n  \"hexLabel\",\n  \"redLabel\",\n  \"greenLabel\",\n  \"blueLabel\",\n  \"alphaLabel\",\n  \"className\",\n  \"theme\",\n  \"styles\",\n  \"showPreview\",\n];\n\nconst ColorWidget = ({\n  id,\n  schema,\n  options,\n  value,\n  required,\n  disabled,\n  readonly,\n  label,\n  onChange,\n  onBlur,\n  onFocus,\n}: WidgetProps) => {\n  const { enumOptions, enumDisabled } = options;\n\n  const updateColor = (ev: any, colorObj: IColor) => {\n    onChange(colorObj.hex);\n  };\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n\n  return (\n    <>\n      <Label>\n        {label || schema.title}\n        {required && <span style={styles_red}>&nbsp;*</span>}\n      </Label>\n      <ColorPicker\n        color={getColorFromString(value) as any}\n        onChange={updateColor}\n        alphaType={\"alpha\"}\n        showPreview={true}\n        {...uiProps}\n      />\n    </>\n  );\n};\nexport default ColorWidget;\n","import React from \"react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport {\n  DatePicker,\n  DayOfWeek,\n  IDatePickerStrings,\n  mergeStyleSets,\n} from \"@fluentui/react\";\nimport _pick from \"lodash/pick\";\nimport { utils } from \"@rjsf/core\";\n\nconst { pad } = utils;\n\n// Keys of IDropdownProps from @fluentui/react\nconst allowedProps = [\n  \"componentRef\",\n  \"styles\",\n  \"theme\",\n  \"calloutProps\",\n  \"calendarProps\",\n  \"textField\",\n  \"calendarAs\",\n  \"onSelectDate\",\n  \"label\",\n  \"isRequired\",\n  \"disabled\",\n  \"ariaLabel\",\n  \"underlined\",\n  \"pickerAriaLabel\",\n  \"isMonthPickerVisible\",\n  \"showMonthPickerAsOverlay\",\n  \"allowTextInput\",\n  \"disableAutoFocus\",\n  \"placeholder\",\n  \"today\",\n  \"value\",\n  \"formatDate\",\n  \"parseDateFromString\",\n  \"firstDayOfWeek\",\n  \"strings\",\n  \"highlightCurrentMonth\",\n  \"highlightSelectedMonth\",\n  \"showWeekNumbers\",\n  \"firstWeekOfYear\",\n  \"showGoToToday\",\n  \"borderless\",\n  \"className\",\n  \"dateTimeFormatter\",\n  \"minDate\",\n  \"maxDate\",\n  \"initialPickerDate\",\n  \"allFocusable\",\n  \"onAfterMenuDismiss\",\n  \"showCloseButton\",\n  \"tabIndex\"\n];\n\nconst controlClass = mergeStyleSets({\n  control: {\n    margin: \"0 0 15px 0\",\n  },\n});\n\n// TODO: move to utils.\n// TODO: figure out a standard format for this, as well as\n// how we can get this to work with locales.\nconst formatDate = (date?: Date) => {\n  if (!date) {\n    return \"\";\n  }\n  const yyyy = pad(date.getFullYear(), 4);\t\n  const MM = pad(date.getMonth() + 1, 2);\t\n  const dd = pad(date.getDate(), 2);\n  return `${yyyy}-${MM}-${dd}`\n}\n\nconst parseDate = (dateStr?: string) => {\n  if (!dateStr) {\n    return undefined;\n  }\n  const [year, month, day] = dateStr.split(\"-\").map(e => parseInt(e));\n  var dt = new Date(year, month - 1, day);\n  return dt;\n}\n\nconst DateWidget = ({\n  id,\n  required,\n  readonly,\n  disabled,\n  label,\n  value,\n  onChange,\n  onBlur,\n  onFocus,\n  autofocus,\n  options,\n  placeholder,\n  schema,\n  rawErrors,\n}: WidgetProps) => {\n  const _onSelectDate = (date: Date | null | undefined) => {\n    if (date) {\n      const formatted = formatDate(date);\n      formatted && onChange(formatted);\n    }\n  }\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n    onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n  return (\n    <DatePicker\n      className={controlClass.control}\n      firstDayOfWeek={DayOfWeek.Sunday}\n      placeholder={placeholder}\n      ariaLabel=\"Select a date\"\n      isRequired={required}\n      label={label}\n      onSelectDate={_onSelectDate}\n      onBlur={_onBlur}\n      onFocus={_onFocus}\n      value={parseDate(value)}\n      {...uiProps}\n    />\n  );\n};\n\nexport default DateWidget;\n","import React from \"react\";\n\nimport { WidgetProps, utils } from \"@rjsf/core\";\n\nimport TextWidget from \"../TextWidget\";\n\nconst { localToUTC, utcToLocal } = utils;\n\n\nconst DateTimeWidget = (props: WidgetProps) => {\n  const uiProps: any = props.options[\"props\"] || {};\n\n  const value = utcToLocal(props.value);\n  const onChange = (value: any) => {\n    props.onChange(localToUTC(value));\n  };\n  let options = {\n    ...props.options,\n    props: {\n      type: \"datetime-local\",\n      ...uiProps,\n    },\n  };\n  // TODO: rows and columns.\n  return <TextWidget {...props} options={options} value={value} onChange={onChange} />;\n};\n\nexport default DateTimeWidget;\n","import React from \"react\";\n\nimport { WidgetProps } from \"@rjsf/core\";\n\nimport TextWidget from \"../TextWidget\";\n\nconst EmailWidget = (props: WidgetProps) => {\n  const uiProps: any = props.options[\"props\"] || {};\n  let options = {\n    ...props.options,\n    props: {\n      type: \"email\",\n      ...uiProps,\n    },\n  };\n  return (\n    <TextWidget\n      {...props}\n      options={options}\n      value={props.value}\n      onChange={props.onChange}\n      {...uiProps}\n    />\n  );\n};\n\nexport default EmailWidget;\n","import React from \"react\";\n\nimport { WidgetProps, utils } from \"@rjsf/core\";\n\nimport TextWidget from \"../TextWidget\";\n\nconst PasswordWidget = (props: WidgetProps) => {\n  const uiProps: any = props.options[\"props\"] || {};\n  let options = {\n    ...props.options,\n    props: {\n      type: \"password\",\n      ...uiProps,\n    },\n  };\n  return (\n    <TextWidget\n      {...props}\n      options={options}\n      value={props.value}\n      onChange={props.onChange}\n      {...uiProps}\n    />\n  );\n};\n\nexport default PasswordWidget;\n","import React from \"react\";\nimport { ChoiceGroup, IChoiceGroupOption } from \"@fluentui/react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport _pick from \"lodash/pick\";\n\n// Keys of IChoiceGroupProps from @fluentui/react\nconst allowedProps = [\n  \"componentRef\",\n  \"options\",\n  \"defaultSelectedKey\",\n  \"selectedKey\",\n  \"onChange\",\n  \"label\",\n  \"onChanged\",\n  \"theme\",\n  \"styles\",\n  \"ariaLabelledBy\"\n];\n\nconst RadioWidget = ({\n  id,\n  schema,\n  options,\n  value,\n  required,\n  disabled,\n  readonly,\n  label,\n  onChange,\n  onBlur,\n  onFocus,\n}: WidgetProps) => {\n  const { enumOptions, enumDisabled } = options;\n\n  function _onChange(\n    ev?: React.FormEvent<HTMLElement | HTMLInputElement>,\n    option?: IChoiceGroupOption\n  ): void {\n    if (option) {\n      onChange(option.key);\n    }\n  }\n\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n    onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n\n  const row = options ? options.inline : false;\n\n  const newOptions = (enumOptions as {value: any, label: any}[]).map(option => ({\n    key: option.value,\n    text: option.label,\n    disabled: (enumDisabled as any[] || []).indexOf(option.value) !== -1\n  }));\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n  return (\n    <ChoiceGroup\n      options={newOptions as any}\n      onChange={_onChange}\n      onFocus={_onFocus}\n      onBlur={_onBlur}\n      label={label || schema.title}\n      required={required}\n      selectedKey={value}\n      {...uiProps}\n    />\n  );\n};\n\nexport default RadioWidget;\n","import React from \"react\";\nimport { Slider, Label } from \"@fluentui/react\";\n\nimport { utils } from \"@rjsf/core\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport _pick from \"lodash/pick\";\n\nconst { rangeSpec } = utils;\n\nconst styles_red = {\n  // TODO: get this color from theme.\n  color: \"rgb(164, 38, 44)\",\n  fontSize: 12,\n  fontWeight: \"normal\" as any,\n  fontFamily: `\"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\", -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;`,\n};\n\n// Keys of ISliderProps from @fluentui/react\nconst allowedProps = [\n  \"componentRef\",\n  \"styles?\",\n  \"theme\",\n  \"label\",\n  \"defaultValue\",\n  \"value\",\n  \"min\",\n  \"max\",\n  \"step\",\n  \"showValue\",\n  \"onChange\",\n  \"ariaLabel\",\n  \"ariaValueText\",\n  \"vertical\",\n  \"disabled\",\n  \"snapToStep\",\n  \"className\",\n  \"buttonProps\",\n  \"valueFormat\",\n  \"originFromZero\",\n];\n\nconst RangeWidget = ({\n  value,\n  readonly,\n  disabled,\n  onBlur,\n  onFocus,\n  options,\n  schema,\n  //formContext,\n  //registry,\n  //rawErrors,\n  onChange,\n  required,\n  label,\n  id,\n}: WidgetProps) => {\n  let sliderProps = { value, label, id, ...rangeSpec(schema) };\n\n  const _onChange = (value: number) => onChange(value);\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n  return (\n    <>\n      <Label>\n        {label || schema.title}\n        {required && <span style={styles_red}>&nbsp;*</span>}\n      </Label>\n      <Slider\n        disabled={disabled || readonly}\n        min={sliderProps.min}\n        max={sliderProps.max}\n        step={sliderProps.step}\n        onChange={_onChange}\n        snapToStep\n        {...uiProps}\n      />\n    </>\n  );\n};\n\nexport default RangeWidget;\n","import React, { useState } from \"react\";\nimport { Label, Dropdown, IDropdownOption } from \"@fluentui/react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport _pick from \"lodash/pick\";\n\n// Keys of IDropdownProps from @fluentui/react\nconst allowedProps = [\n  \"placeHolder\",\n  \"options\",\n  \"onChange\",\n  \"onChanged\",\n  \"onRenderLabel\",\n  \"onRenderPlaceholder\",\n  \"onRenderPlaceHolder\",\n  \"onRenderTitle\",\n  \"onRenderCaretDown\",\n  \"dropdownWidth\",\n  \"responsiveMode\",\n  \"defaultSelectedKeys\",\n  \"selectedKeys\",\n  \"multiselectDelimiter\",\n  \"notifyOnReselect\",\n  \"isDisabled\",\n  \"keytipProps\",\n  \"theme\",\n  \"styles\",\n\n  // ISelectableDroppableTextProps\n  \"componentRef\",\n  \"label\",\n  \"ariaLabel\",\n  \"id\",\n  \"className\",\n  \"defaultSelectedKey\",\n  \"selectedKey\",\n  \"multiSelect\",\n  \"options\",\n  \"onRenderContainer\",\n  \"onRenderList\",\n  \"onRenderItem\",\n  \"onRenderOption\",\n  \"onDismiss\",\n  \"disabled\",\n  \"required\",\n  \"calloutProps\",\n  \"panelProps\",\n  \"errorMessage\",\n  \"placeholder\",\n  \"openOnKeyboardFocus\"\n];\n\nconst SelectWidget = ({\n  schema,\n  id,\n  options,\n  label,\n  required,\n  disabled,\n  readonly,\n  value,\n  multiple,\n  autofocus,\n  onChange,\n  onBlur,\n  onFocus,\n}: WidgetProps) => {\n  const { enumOptions, enumDisabled } = options;\n\n  const _onChange = (\n    _ev?: React.FormEvent<HTMLElement>,\n    item?: IDropdownOption\n  ) => {\n    if (!item) {\n      return;\n    }\n    if (multiple) {\n      const valueOrDefault = value || [];\n      if (item.selected) {\n        onChange([...valueOrDefault, item.key]);\n      } else {\n        onChange(valueOrDefault.filter((key: any) => key !== item.key));\n      }\n    } else {\n      onChange(item.key);\n    }\n  };\n  const _onBlur = (e: any) => onBlur(id, e.target.value);\n\n  const _onFocus = (e: any) => onFocus(id, e.target.value);\n\n  const newOptions = (enumOptions as {value: any, label: any}[]).map(option => ({\n    key: option.value,\n    text: option.label,\n    disabled: (enumDisabled as any[] || []).indexOf(option.value) !== -1\n  }));\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n  return (\n    <>\n      <Label>{label || schema.title}</Label>\n      <Dropdown\n        multiSelect={multiple}\n        defaultSelectedKey={value}\n        required={required}\n        options={newOptions}\n        disabled={disabled || readonly}\n        onChange={_onChange}\n        onBlur={_onBlur}\n        onFocus={_onFocus}\n        {...uiProps}\n      />\n    </>\n  );\n};\n\nexport default SelectWidget;\n","import React from \"react\";\n\nimport { WidgetProps } from \"@rjsf/core\";\n\nimport TextWidget from '../TextWidget';\n\nconst TextareaWidget = (props: WidgetProps) => {\n  const uiProps: any = props.options[\"props\"] || {};\n  let options = {\n    ...props.options,\n    \"props\": {\n      multiline: true,\n      ...uiProps\n    }\n  };\n  // TODO: rows and columns.\n  return (\n    <TextWidget {...props} options={options} />\n  );\n}\n\nexport default TextareaWidget;","import React from \"react\";\nimport { Label } from \"@fluentui/react\";\nimport { SpinButton } from \"@fluentui/react\";\nimport { WidgetProps } from \"@rjsf/core\";\nimport _pick from \"lodash/pick\";\nimport { utils } from \"@rjsf/core\";\n\nconst { rangeSpec } = utils;\n\n// Keys of ISpinButtonProps from @fluentui/react\nconst allowedProps = [\n  \"ariaDescribedBy\",\n  \"ariaLabel\",\n  \"ariaPositionInSet\",\n  \"ariaSetSize\",\n  \"ariaValueNow\",\n  \"ariaValueText\",\n  \"className\",\n  \"componentRef\",\n  \"decrementButtonAriaLabel\",\n  \"decrementButtonIcon\",\n  \"defaultValue\",\n  \"disabled\",\n  \"downArrowButtonStyles\",\n  \"getClassNames\",\n  \"iconButtonProps\",\n  \"iconProps\",\n  \"incrementButtonAriaLabel\",\n  \"incrementButtonIcon\",\n  \"inputProps\",\n  \"keytipProps\",\n  \"label\",\n  \"labelPosition\",\n  \"max\",\n  \"min\",\n  \"onBlur\",\n  \"onDecrement\",\n  \"onFocus\",\n  \"onIncrement\",\n  \"onValidate\",\n  \"precision\",\n  \"step\",\n  \"styles\",\n  \"theme\",\n  \"title\",\n  \"upArrowButtonStyles\",\n  \"value\",\n];\n\nconst UpDownWidget = ({\n  id,\n  required,\n  readonly,\n  disabled,\n  label,\n  value,\n  onChange,\n  onBlur,\n  onFocus,\n  options,\n  schema,\n}: // autofocus,\nWidgetProps) => {\n  const _onChange = ({\n    target: { value },\n  }: React.ChangeEvent<HTMLInputElement>) => onChange(Number(value));\n\n  let { min, max, step } = rangeSpec(schema);\n  if (min === undefined) {\n    min = -1 * Infinity;\n  }\n  if (max === undefined) {\n    max = Infinity;\n  }\n  if (step === undefined) {\n    step = 1;\n  }\n\n  const _onIncrement = (value: string) => {\n    if (Number(value) + step! <= max!) onChange(Number(value) + step!);\n  };\n\n  const _onDecrement = (value: string) => {\n    if (Number(value) - step! >= min!) onChange(Number(value) - step!);\n  };\n\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n    onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n\n  const requiredSymbol = required ? \"*\" : \"\";\n\n  const uiProps = _pick(options.props || {}, allowedProps);\n\n  return (\n    <>\n      {/* TODO: add label for= attribute */}\n      <Label htmlFor={id}>{label + requiredSymbol}</Label>\n      <SpinButton\n        id={id}\n        min={min}\n        max={max}\n        step={step}\n        incrementButtonAriaLabel={\"Increase value by 1\"}\n        decrementButtonAriaLabel={\"Decrease value by 1\"}\n        disabled={disabled || readonly}\n        value={value || value === 0 ? value : \"\"}\n        onBlur={_onBlur}\n        onFocus={_onFocus}\n        onChange={_onChange}\n        onIncrement={_onIncrement}\n        onDecrement={_onDecrement}\n        for=\"\"\n        {...uiProps}\n      />\n    </>\n  );\n};\n\nexport default UpDownWidget;\n","import React from \"react\";\n\nimport { WidgetProps, utils } from \"@rjsf/core\";\n\nimport TextWidget from \"../TextWidget\";\n\nconst URLWidget = (props: WidgetProps) => {\n  const uiProps: any = props.options[\"props\"] || {};\n  let options = {\n    ...props.options,\n    props: {\n      type: \"url\",\n      ...uiProps,\n    },\n  };\n  return (\n    <TextWidget\n      {...props}\n      options={options}\n      value={props.value}\n      onChange={props.onChange}\n      {...uiProps}\n    />\n  );\n};\n\nexport default URLWidget;\n","import AltDateWidget from \"../AltDateWidget/AltDateWidget\";\nimport AltDateTimeWidget from \"../AltDateTimeWidget/AltDateTimeWidget\";\nimport CheckboxWidget from \"../CheckboxWidget/CheckboxWidget\";\nimport CheckboxesWidget from \"../CheckboxesWidget/CheckboxesWidget\";\nimport ColorWidget from \"../ColorWidget/ColorWidget\";\nimport DateWidget from \"../DateWidget/DateWidget\";\nimport DateTimeWidget from \"../DateTimeWidget/DateTimeWidget\";\nimport EmailWidget from \"../EmailWidget/EmailWidget\";\nimport PasswordWidget from \"../PasswordWidget/PasswordWidget\";\nimport RadioWidget from \"../RadioWidget/RadioWidget\";\nimport RangeWidget from \"../RangeWidget/RangeWidget\";\nimport SelectWidget from \"../SelectWidget/SelectWidget\";\nimport TextareaWidget from \"../TextareaWidget/TextareaWidget\";\nimport TextWidget from \"../TextWidget/TextWidget\";\nimport UpDownWidget from \"../UpDownWidget/UpDownWidget\";\nimport URLWidget from \"../URLWidget/URLWidget\";\n\nexport default {\n  AltDateWidget,\n  AltDateTimeWidget,\n  CheckboxWidget,\n  CheckboxesWidget,\n  ColorWidget,\n  DateWidget,\n  DateTimeWidget,\n  EmailWidget,\n  PasswordWidget,\n  RadioWidget,\n  RangeWidget,\n  SelectWidget,\n  TextareaWidget,\n  TextWidget,\n  UpDownWidget,\n  URLWidget,\n};\n","import React from 'react';\nimport ArrayFieldTemplate from '../ArrayFieldTemplate';\nimport ErrorList from '../ErrorList';\nimport Fields from '../Fields';\nimport FieldTemplate from '../FieldTemplate';\nimport ObjectFieldTemplate from '../ObjectFieldTemplate';\nimport SubmitButton from '../SubmitButton';\nimport Widgets from '../Widgets';\n\nimport { ThemeProps } from '@rjsf/core';\nimport { utils } from '@rjsf/core';\nconst { getDefaultRegistry } = utils;\n\nconst { fields, widgets } = getDefaultRegistry();\n\nconst Theme: ThemeProps = {\n  ArrayFieldTemplate,\n  fields: { ...fields, ...Fields },\n  FieldTemplate,\n  ObjectFieldTemplate,\n  widgets: { ...widgets, ...Widgets },\n  ErrorList,\n  children: React.createElement(SubmitButton)\n};\n\nexport default Theme;\n","import { withTheme, FormProps } from '@rjsf/core';\n\nimport Theme from '../Theme';\nimport { StatelessComponent } from 'react';\n\nconst FuiForm: React.ComponentClass<FormProps<any>> | StatelessComponent<FormProps<any>>  = withTheme(Theme);\n\nexport default FuiForm;\n","import FuiForm from \"./FuiForm/FuiForm\";\nimport { initializeIcons } from \"@fluentui/react\";\n\nexport { default as Fields } from \"./Fields\";\nexport { default as FieldTemplate } from \"./FieldTemplate\";\nexport { default as FuiForm } from \"./FuiForm\";\nexport { default as ObjectFieldTemplate } from \"./ObjectFieldTemplate\";\nexport { default as Theme } from \"./Theme\";\nexport { default as Widgets } from \"./Widgets\";\n\ninitializeIcons();\n\nexport default FuiForm;\n"],"names":["addIcon","iconName","AddButton","props","React","CommandBarButton","style","height","iconProps","text","className","onClick","e","disabled","mappings","remove","IconButton","icon","color","rightJustify","isMultiSelect","utils","getDefaultRegistry","ArrayFieldTemplate","schema","registry","rootSchema","DefaultFixedArrayFieldTemplate","DefaultNormalArrayFieldTemplate","ArrayFieldTitle","TitleField","idSchema","title","required","id","$id","ArrayFieldDescription","DescriptionField","description","DefaultArrayItem","key","dir","children","textAlign","readonly","hasMoveUp","onReorderClick","index","hasMoveDown","onDropIndexClick","uiSchema","items","map","canAdd","onAddClick","p","ErrorList","errors","error","i","MessageBar","messageBarType","MessageBarType","isMultiline","dismissButtonAriaLabel","stack","Text","styles","root","fontSize","marginBottom","paddingBottom","Label","FieldTemplate","displayLabel","rawErrors","rawHelp","rawDescription","classNames","replace","length","List","ObjectFieldTemplate","properties","element","content","PrimaryButton","type","allowedProps","TextWidget","label","value","onChange","onBlur","onFocus","autofocus","options","_onChange","target","emptyValue","_onBlur","_onFocus","uiProps","_pick","TextField","autoFocus","readOnly","name","errorMessage","join","CheckboxWidget","useCallback","checked","Checkbox","styles_red","fontWeight","fontFamily","selectValue","selected","all","at","indexOf","updated","slice","concat","sort","a","b","deselectValue","filter","v","CheckboxesWidget","enumOptions","enumDisabled","option","_ev","itemDisabled","ColorWidget","updateColor","ev","colorObj","hex","ColorPicker","getColorFromString","alphaType","showPreview","pad","controlClass","mergeStyleSets","control","margin","formatDate","date","yyyy","getFullYear","MM","getMonth","dd","getDate","parseDate","dateStr","undefined","split","parseInt","year","month","day","dt","Date","DateWidget","placeholder","_onSelectDate","formatted","DatePicker","firstDayOfWeek","DayOfWeek","Sunday","ariaLabel","isRequired","onSelectDate","localToUTC","utcToLocal","DateTimeWidget","EmailWidget","PasswordWidget","RadioWidget","newOptions","ChoiceGroup","selectedKey","rangeSpec","RangeWidget","sliderProps","Slider","min","max","step","snapToStep","SelectWidget","multiple","item","valueOrDefault","Dropdown","multiSelect","defaultSelectedKey","TextareaWidget","multiline","UpDownWidget","Number","Infinity","_onIncrement","_onDecrement","requiredSymbol","htmlFor","SpinButton","incrementButtonAriaLabel","decrementButtonAriaLabel","onIncrement","onDecrement","URLWidget","AltDateWidget","AltDateTimeWidget","fields","widgets","Theme","Fields","Widgets","createElement","SubmitButton","FuiForm","withTheme","initializeIcons"],"mappings":"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"}